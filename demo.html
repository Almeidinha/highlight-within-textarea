<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Highlight Within Textarea</title>

		<!-- need jQuery, obviously -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

		<!-- highlight-within-textarea CSS/JS -->
		<link href="./jquery.highlight-within-textarea.css" rel="stylesheet">
		<script src="./jquery.highlight-within-textarea.js"></script>

		<!-- make things pretty -->
		<style>
			@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto+Mono);

			body {
				max-width: 900px;
				margin: 40px auto;
				font: 18px/1.4 'Open Sans', sans-serif;
				color: #555;
				background-color: #eee;
			}

			section {
				margin-top: 60px;
			}

			script {
				display: block;
				margin-top: 10px;
				padding-left: 10px;
				border-left: 8px solid #ccc;
				white-space: pre-wrap;
				font: 14px/1.4 'Roboto Mono', sans-serif;
			}

			/* background and positioning */
			.hwt-container {
				background-color: #fff;
			}

			/* size and formatting */
			.hwt-content {
				width: 500px;
				height: 100px;
				padding: 20px;
				color: #555;
				font: 18px/25px 'Roboto Mono', sans-serif;
			}

			/* highlights */
			.hwt-content mark {
				border-radius: 3px;
			}
			.hwt-content mark:nth-child(2n) {
				background-color: #cfdeab;
			}
			.hwt-content mark:nth-child(2n+1) {
				background-color: #b1d5e5;
			}
		</style>
	</head>
	<body>
		<h1>Highlight Within Textarea</h1>
		<p>Some example use cases with code snippets.</p>

		<section>
			<h2>Using Regex</h2>
			<p>You can provide an onInput callback that returns a regex. This example simply highlights all numbers.</p>
			<textarea class="regex-example">1600 Pennsylvania Ave NW, Washington, DC 20500</textarea>
			<script>
function onInputRegex(input) {
	return /\d+/g;
}

$('textarea.regex-example').highlightWithinTextarea({ onInput: onInputRegex });
			</script>
		</section>

		<section>
			<h2>Using Regex Again</h2>
			<p>Another common case for regex is to highlight from a list of 1 or more strings.</p>
			<textarea class="regex-again-example">There are about 5,000 potato varieties worldwide. Three thousand of them are found in the Andes alone, mainly in Peru, Bolivia, Ecuador, Chile, and Colombia.</textarea>
			<script>
function onInputRegexAgain(input) {
	return /chile|ecuador|peru/gi;
}

$('textarea.regex-again-example').highlightWithinTextarea({ onInput: onInputRegexAgain });
			</script>
		</section>

		<section>
			<h2>Using Array</h2>
			<p>The onInput callback may also return an array of arrays that specify highlights by character position. Each inner array has 2 numbers: a starting index (inclusive) and an ending index (exclusive). This example highlights the first 30 characters, 10 characters at a time.</p>
			<textarea class="array-example">Bears are mammals of the family Ursidae.</textarea>
			<script>
function onInputArray(input) {
	return [[0, 10], [10, 20], [20, 30]];
}

$('textarea.array-example').highlightWithinTextarea({ onInput: onInputArray });
			</script>
		</script>

		<section>
			<h2>Using String</h2>
			<p>The above cases should handle most needs, but for full control, you can have the onInput callback insert &lt;mark&gt; and &lt;/mark&gt; tags manually and return the result. Just make sure you don't change the input in any other way. This example highlights the full input, but only if it's longer than 30 characters.</p>
			<textarea class="string-example">The corgi's origin is difficult to trace.</textarea>
			<script>
function onInputString(input) {
	if (input.length > 30) {
		input = '<mark>' + input + '</mark>'
	}
	return input;
}

$('textarea.string-example').highlightWithinTextarea({ onInput: onInputString });
			</script>
		</script>
	</body>
</html>
